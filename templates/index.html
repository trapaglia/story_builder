<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Historias</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container-fluid mt-5">
        <h1 class="text-center mb-4">Generador de Historias</h1>
        
        <div class="row">
            <!-- Panel de Configuración -->
            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Configura tu historia</h5>
                        <form id="storyForm">
                            <div class="mb-3">
                                <label for="initial_idea" class="form-label">Idea inicial</label>
                                <textarea class="form-control" id="initial_idea" rows="3" required 
                                    placeholder="Describe la idea principal de tu historia..."></textarea>
                            </div>
                            
                            <div class="mb-3">
                                <label for="character_count" class="form-label">Número aproximado de caracteres</label>
                                <input type="number" class="form-control" id="character_count" required 
                                    min="100" value="1000">
                            </div>
                            
                            <div class="mb-3">
                                <label for="narration_style" class="form-label">Estilo de narración</label>
                                <select class="form-control" id="narration_style" required>
                                    <option value="descriptivo">Descriptivo</option>
                                    <option value="dialogado">Dialogado</option>
                                    <option value="primera_persona">Primera persona</option>
                                    <option value="tercera_persona">Tercera persona</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Personajes</label>
                                <div id="characters-container">
                                    <div class="input-group mb-2">
                                        <input type="text" class="form-control character-name" 
                                            placeholder="Nombre del personaje">
                                        <button type="button" class="btn btn-outline-secondary remove-character">
                                            <i class="bi bi-trash"></i>
                                        </button>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm" id="add-character">
                                    + Añadir Personaje
                                </button>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">Generar Historia</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Panel de Historia -->
            <div class="col-md-8">
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Tu Historia</h5>
                        <div id="storyOutput" class="story-content">
                            <p class="text-muted">Tu historia aparecerá aquí...</p>
                        </div>
                        <div id="loading" class="d-none">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Cargando...</span>
                            </div>
                            <p class="text-muted">Generando tu historia...</p>
                        </div>
                    </div>
                </div>

                <!-- Panel de Chat de Agentes -->
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Conversación entre Agentes</h5>
                        <div id="agentChat" class="agent-chat">
                            <p class="text-muted">La conversación entre agentes aparecerá aquí...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html> 